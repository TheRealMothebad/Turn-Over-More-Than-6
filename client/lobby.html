<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Turn Over More Than 6</title>
<link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>
  <p id="welcomeMessage"></p>
  <h2>Wait for John to tell you to click the button</h2>
  <button type="button" onclick="join_game()">join game</button>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      let name = localStorage.getItem("name");
      if (!name) {
        const urlParams = new URLSearchParams(window.location.search);
        name = urlParams.get("name");
      }

      if (name) {
        document.getElementById("welcomeMessage").textContent = `Welcome ${name}, John will tell you when to click the button.`;
      } else {
        document.getElementById("welcomeMessage").textContent = "Welcome, John will tell you when to click the button.";
      }
    });

    function join_game() {
      const urlParams = new URLSearchParams(window.location.search);
      const uuid = urlParams.get("uuid");
      const name = urlParams.get("name");
      window.location.href = `game.html?uuid=${uuid}&name=${encodeURIComponent(name)}`;
    }
  </script>
</body>
